# Access Analyzer (유저 접속 기록 분석 프로젝트)
### 설명
유저의 접속 기록을 .csv파일로 업로드하면 요약 정보를 올려주는 프로젝트

### 실행 방법
1. 프로젝트 다운로드
2. 빌드로 .jar 프로그램 생성
3. 해당 프로그램 백그라운드로 실행
※ 환경변수 IPINFO_TOKEN에 자신의 TOKEN 삽입 필요

### 비즈니스 로직

<img width="2491" height="1041" alt="위메이드 비즈니스 플로우" src="https://github.com/user-attachments/assets/dbbc45f1-900c-4745-a7fa-11f08c0951f5" />

### 객체 구조

<img width="442" height="422" alt="위메이드 ER 다이어그램" src="https://github.com/user-attachments/assets/63bad27a-5bb1-4590-9024-35c05f574538" />

### 이번 과제에서 가장 중요하다고 판단한 기능
- 정확한 통계

  해당 프로젝트는 홈페이지 접속 정보를 통해 플레이 유저 및 잠재 유저의 분포도 파악으로 현재 **게임의 유입률을 대략적으로 파악**하고 
  잘못된 요청의 개수를 파악하여 **웹 서비스 문제의 심각도 및 원인을 파악**하는 데 목적이 있다고 생각했습니다.  
  이를 위해서는 정확한 통계가 무엇보다 중요하다고 판단하였습니다.

### 특히 신경 쓴 부분
- IPInfo 조회 기능

  초기 코드에는 IPInfo를 전부 조회해야 응답하는 구조를 가지고 있었습니다.
  하지만 해당 로직은 요약 통계만 필요한 상황에서 너무 많은 시간이 소비되는 문제가 있었습니다.  
  이를 해결하기 위해 IPInfo를 실행하되, **3초를 넘기면 타임아웃을 걸어 현재 조회한 정보까지 출력**하도록 하였습니다.
  이를 통해 평균 실행 시간을 3초로 단축하여 정보 조회에 오랜 시간이 들지 않도록 하였습니다.

### 실 서비스로 운영한다면 중점 개선하거나 보완할 포인트
- 완전 비동기 작업 및 큐 적용

  현재 코드 상으로는 비동기 작업이 IPInfo가 병렬적으로 실행되는 것 빼고는 동기적으로 실행되고 있습니다.
  이를 통해 실제 실행 시간이 3초 이상 소요될 수 있습니다. 이를 해결하기 위해 IP 정보 업로드 후 IP 정보 조회를 **비동기적으로 처리하여 더 빠른 속도로 탐색**할 수 있도록 하면 좋을 것 같습니다.

  또한 현재는 작업 큐가 따로 적용이 되어 있지 않아 데이터 정합성이 보장되지 않는 상태입니다.
  만약 작업 큐를 적용한다면 모든 조회 정보가 일관되게 출력되어 **데이터 정합성이 보장**될 수 있다고 생각합니다.

- 상위 N개의 기준

  현재 프로젝트는 *상위 N개의 로그*기록을 출력하도록 되어 있습니다.
  하지만 4xx, 5xx에러를 해결하기 위해서 로그를 확인하는 거라면 처음부터 전부 확인해야하는 불편함이 있습니다.
  이를 해결하기 위해 **필터 기능을 도입**하여 특정 번호 대의 코드만 출력할 수 있도록 한다면 정보 조회를 더 효율적으로 할 수 있을 것 같습니다.
  
